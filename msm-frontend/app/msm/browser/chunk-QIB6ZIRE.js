import{a as te}from"./chunk-O36OTMU2.js";import{$a as Fe,A as d,Aa as _e,Ab as Ae,B as p,Ba as Ce,Bb as He,C as r,Ca as xe,Cb as qe,D as n,Da as ie,Db as Le,E as u,Ea as G,Eb as Q,F as _,Fa as V,G as C,Ga as N,H as k,Ha as R,I as y,Ia as Se,J as h,Ja as A,K as F,L as w,M as I,Ma as H,Mb as U,N as fe,Na as J,O as m,Oa as Z,P as S,Pa as K,Q as D,Qa as q,Ra as ve,Ta as L,U as ye,Ua as B,Ub as Be,Va as j,W as he,Wa as $,Wb as nt,Xa as ne,Xb as rt,Ya as be,Yb as ot,Z as W,Za as Ee,_ as O,a as Y,aa as Xe,ab as Ye,bb as re,cb as we,d as me,db as T,e as se,ec as et,f as Et,fb as X,g as ce,gb as Ft,gc as It,h as pe,hb as wt,ib as Ie,j as de,jb as Ge,k as ue,kb as ke,lb as z,n as tt,p as M,pa as at,q as it,r as v,s as b,sb as Te,tb as Me,ub as De,v as c,vb as Oe,w as g,wb as Pe,xb as Ve,y as ee,ya as P,yb as Ne,za as ge,zb as Re}from"./chunk-J3ZMDLLJ.js";var Tt=["firstFocused"];function Mt(e,o){if(e&1&&u(0,"my-global-errors",23),e&2){let a=h();p("errors",a.errors)}}function Dt(e,o){if(e&1&&(_(0),r(1,"option",24),m(2),n(),C()),e&2){let a=o.$implicit;c(),p("value",a.id),c(),S(a.name)}}function Ot(e,o){e&1&&(r(0,"my-error"),m(1," Veuillez remplir ce champ. "),n())}function Pt(e,o){if(e&1&&(_(0),r(1,"option",24),m(2),n(),C()),e&2){let a=o.$implicit;c(),p("value",a.id),c(),S(a.label)}}function Vt(e,o){e&1&&(r(0,"my-error"),m(1," Veuillez remplir ce champ. "),n())}function Nt(e,o){e&1&&(r(0,"my-error"),m(1," Veuillez remplir ce champ. "),n())}var ct=(()=>{let o=class o{constructor(t,i,l,s,f,x,E){this.fb=t,this.dialogRef=i,this.data=l,this.snackBar=s,this.creditsHttp=f,this.employeesHttp=x,this.moneySourcesHttp=E,this.errors=[],this.employees=[],this.moneySources=[],this.creditFormGroup=this.fb.group({id:[void 0],code:[""],employeeId:[void 0,[G.required]],moneySourceId:[void 0,[G.required]],amount:[0,[G.required]],date:[re(),[G.required]],notes:[""]})}ngOnInit(){Et([this.moneySourcesHttp.getAll(),this.employeesHttp.getAll()]).subscribe({next:([t,i])=>{this.employees=i,this.moneySources=t,this.data.mode=="edit"&&this.loadData(this.data.id)}})}loadData(t){this.creditsHttp.getOneById(t).subscribe({next:i=>{this.creditFormGroup.patchValue({id:i.id,code:i.code,employeeId:i.employeeId.id,moneySourceId:i.moneySourceId.id,amount:i.amount,date:Ye(i.date),notes:i.notes})}})}ngAfterViewInit(){setTimeout(()=>{this.firstFocused.nativeElement.focus()},300)}save(){this.errors=[],this.creditFormGroup.valid==!0?this.data.mode=="creation"?this.creditsHttp.create(this.getCreation()).subscribe({next:t=>{t.success?(this.snackBar.open("Op\xE9ration r\xE9ussie","\u2714",{duration:7e3}),this.create()):this.errors=t.errors},error:t=>console.error(t)}):this.creditsHttp.update(this.data.id,this.getUpdate()).subscribe({next:t=>{t.success?(this.snackBar.open("Op\xE9ration r\xE9ussie","\u2714",{duration:7e3}),this.loadData(t.data.id)):this.errors=t.errors},error:t=>this.snackBar.open("L'op\xE9ration a \xE9chou\xE9","\u274C",{duration:7e3})}):this.creditFormGroup.markAllAsTouched()}resetForm(){this.creditFormGroup.reset({id:void 0,code:"",employeeId:void 0,moneySourceId:void 0,amount:0,date:re(),notes:""},{emitEvent:!1})}create(){this.resetForm(),this.firstFocused.nativeElement.focus(),this.creditFormGroup.markAsUntouched(),this.creditFormGroup.clearValidators(),this.creditFormGroup.clearAsyncValidators(),this.data={id:0,mode:"creation"}}getCreation(){return Y({},this.creditFormGroup.getRawValue())}getUpdate(){return Y({},this.creditFormGroup.getRawValue())}closeDialog(){this.dialogRef.close()}};o.\u0275fac=function(i){return new(i||o)(g(q),g(Ie),g(Ge),g(z),g(rt),g(U),g(Be))},o.\u0275cmp=M({type:o,selectors:[["app-employee-credit-form"]],viewQuery:function(i,l){if(i&1&&F(Tt,5),i&2){let s;w(s=I())&&(l.firstFocused=s.first)}},decls:43,vars:10,consts:[[1,"dialog-container"],[1,"dialog-header"],[1,"text-lg","font-medium"],[3,"click"],[1,"ri-close-line","text-2xl"],["class","px-3",3,"errors",4,"ngIf"],[1,"dialog-content"],[1,"flex","flex-col","gap-y-5","mt-3","h-64",3,"formGroup"],["formControlName","id","type","number",1,"!hidden"],[1,"inline-fields"],[1,"w-64"],["formControlName","code","type","text","myInput",""],["firstFocused",""],["formControlName","employeeId","myInput",""],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"required"],["formControlName","moneySourceId","myInput",""],["formControlName","amount","type","number","myInput",""],["formControlName","notes","myTextarea","","type","text"],[1,"dialog-actions"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary",3,"click"],[1,"px-3",3,"errors"],[3,"value"]],template:function(i,l){if(i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),m(3),n(),r(4,"button",3),y("click",function(){return l.closeDialog()}),u(5,"i",4),n()(),d(6,Mt,1,1,"my-global-errors",5),r(7,"div",6)(8,"form",7),u(9,"input",8),r(10,"div",9)(11,"my-form-field",10)(12,"my-label"),m(13,"Code"),n(),u(14,"input",11,12),n(),r(16,"my-form-field",10)(17,"my-label"),m(18,"Employ\xE9"),n(),r(19,"select",13),d(20,Dt,3,2,"ng-container",14),n(),d(21,Ot,2,0,"my-error",15),n()(),r(22,"div",9)(23,"my-form-field",10)(24,"my-label",16),m(25,"Source d'argent"),n(),r(26,"select",17),d(27,Pt,3,2,"ng-container",14),n(),d(28,Vt,2,0,"my-error",15),n(),r(29,"my-form-field",10)(30,"my-label",16),m(31,"Montant"),n(),u(32,"input",18),d(33,Nt,2,0,"my-error",15),n()(),r(34,"my-form-field")(35,"my-label"),m(36,"Notes"),n(),u(37,"textarea",19),n()()(),r(38,"div",20)(39,"button",21),y("click",function(){return l.create()}),m(40,"Nouvelle "),n(),r(41,"button",22),y("click",function(){return l.save()}),m(42,"Sauvegarder"),n()()()),i&2){let s,f,x;c(3),D(" ",l.data.mode=="creation"?"Nouveau ":"Modifier "," Acompte "),c(3),p("ngIf",l.errors.length>0),c(2),p("formGroup",l.creditFormGroup),c(12),p("ngForOf",l.employees),c(),p("ngIf",((s=l.creditFormGroup.get("employeeId"))==null?null:s.invalid)&&(((s=l.creditFormGroup.get("employeeId"))==null?null:s.dirty)||((s=l.creditFormGroup.get("employeeId"))==null?null:s.touched))&&((s=l.creditFormGroup.get("employeeId"))==null?null:s.getError("required"))),c(3),p("required",!0),c(3),p("ngForOf",l.moneySources),c(),p("ngIf",((f=l.creditFormGroup.get("moneySourceId"))==null?null:f.invalid)&&(((f=l.creditFormGroup.get("moneySourceId"))==null?null:f.dirty)||((f=l.creditFormGroup.get("moneySourceId"))==null?null:f.touched))&&((f=l.creditFormGroup.get("moneySourceId"))==null?null:f.getError("required"))),c(2),p("required",!0),c(3),p("ngIf",((x=l.creditFormGroup.get("amount"))==null?null:x.invalid)&&(((x=l.creditFormGroup.get("amount"))==null?null:x.dirty)||((x=l.creditFormGroup.get("amount"))==null?null:x.touched))&&((x=l.creditFormGroup.get("amount"))==null?null:x.getError("required")))}},dependencies:[W,O,R,Z,K,ie,Se,J,V,N,A,H,P,$,be,B,j,ne,Ee],encapsulation:2});let e=o;return e})();var Rt=["firstFocused"];function At(e,o){if(e&1&&(_(0),r(1,"option",42),m(2),n(),C()),e&2){let a=o.$implicit;c(),p("value",a.id),c(),S(a.name)}}function Ht(e,o){if(e&1&&(_(0),r(1,"option",42),m(2),n(),C()),e&2){let a=o.$implicit;c(),p("value",a.id),c(),S(a.label)}}function qt(e,o){if(e&1){let a=k();r(0,"div",31)(1,"div",32)(2,"span"),m(3,"Filtrer"),n(),r(4,"button",33),y("click",function(){v(a);let i=h();return b(i.toggleFilterMenu())}),u(5,"i",34),n()(),r(6,"form",35)(7,"my-form-field")(8,"my-label"),m(9,"Employ\xE9"),n(),r(10,"select",36),d(11,At,3,2,"ng-container",37),n()(),r(12,"my-form-field")(13,"my-label",38),m(14,"Source d'argent"),n(),r(15,"select",39),d(16,Ht,3,2,"ng-container",37),n()()(),r(17,"div",40)(18,"button",41),y("click",function(){v(a);let i=h();return b(i.resetItemsFilterForm())}),m(19,"R\xE9initialiser"),n(),r(20,"button",11),y("click",function(){v(a);let i=h();return b(i.filterItems())}),m(21,"Appliquer"),n()()()}if(e&2){let a=h();c(6),p("formGroup",a.sourceFilterFormGroup),c(5),p("ngForOf",a.employees),c(2),p("required",!0),c(3),p("ngForOf",a.moneySources)}}function Lt(e,o){if(e&1){let a=k();r(0,"button",43),y("click",function(){v(a);let i=h();return b(i.deleteSeleted())}),r(1,"div",44),u(2,"i",45),r(3,"span"),m(4),n()()()}if(e&2){let a=h();c(4),D("Supprimer (",a.selection.selected.length,")")}}function Bt(e,o){if(e&1){let a=k();r(0,"th",46)(1,"mat-checkbox",47),y("change",function(i){v(a);let l=h();return b(l.allSelectionChanged(i))}),n()()}if(e&2){let a=h();c(),p("checked",a.selection.hasValue()&&a.isAllSelected())("indeterminate",a.selection.hasValue()&&!a.isAllSelected())("aria-label",a.checkboxLabel())}}function jt(e,o){if(e&1){let a=k();r(0,"td",48)(1,"mat-checkbox",49),y("click",function(i){return i.stopPropagation()})("change",function(i){let s=v(a).$implicit,f=h();return b(f.selectionChanged(i,s))}),n()()}if(e&2){let a=o.$implicit,t=h();c(),p("checked",t.selection.isSelected(a))("aria-label",t.checkboxLabel(a))}}function $t(e,o){e&1&&(r(0,"th",46),m(1,"Code "),n())}function zt(e,o){if(e&1&&(r(0,"td",48),m(1),n()),e&2){let a=o.$implicit;c(),S(a.code)}}function Qt(e,o){e&1&&(r(0,"th",46),m(1,"Employ\xE9 "),n())}function Ut(e,o){if(e&1&&(r(0,"td",48),m(1),n()),e&2){let a=o.$implicit;c(),S(a.employeeId.name)}}function Wt(e,o){e&1&&(r(0,"th",46),m(1,"Montant"),n())}function Jt(e,o){if(e&1&&(r(0,"td",48),m(1),n()),e&2){let a=o.$implicit;c(),S(a.amount)}}function Zt(e,o){e&1&&(r(0,"th",46),m(1,"Source d'argent "),n())}function Kt(e,o){if(e&1&&(r(0,"td",48),m(1),n()),e&2){let a=o.$implicit;c(),S(a.moneySourceId.label)}}function Xt(e,o){e&1&&(r(0,"th",46),m(1,"Date "),n())}function Yt(e,o){if(e&1&&(r(0,"td",48),m(1),ye(2,"date"),n()),e&2){let a=o.$implicit;c(),S(he(2,1,a.date,"dd/MM/yyyy"))}}function ei(e,o){e&1&&(r(0,"th",50),m(1,"Action"),n())}function ti(e,o){if(e&1&&(r(0,"td",48)(1,"div",51)(2,"button",52),u(3,"i",53),n()()()),e&2){let a=o.$implicit,t=h();c(2),p("matTooltip",t.getTracabilityInfo(a))}}function ii(e,o){e&1&&u(0,"tr",54)}function ni(e,o){e&1&&u(0,"tr",55)}function ri(e,o){e&1&&(r(0,"div",56)(1,"p",57),m(2,"Aucune donn\xE9e \xE0 afficher"),n()())}var gt=(()=>{let o=class o{isAllSelected(){let t=this.selection.selected.length,i=this.dataSource.data.length;return t===i}toggleAllRows(){if(this.isAllSelected()){this.selection.clear();return}this.selection.select(...this.dataSource.data)}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:`${this.isAllSelected()?"deselect":"select"} all`}constructor(t,i,l,s,f,x,E){this.snackBar=t,this.fb=i,this.matDialog=l,this.traceability=s,this.creditsHttp=f,this.employeesHttp=x,this.moneySourcesHttp=E,this.dataSource=new Le([]),this.displayedColumns=["select","code","employeeId.name","amount","moneySourceId.label","date","actions"],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.isFilterMenuOpen=!1,this.refreshGrid=new ee,this.sourceFilterChanged=new ee,this.pageSize=te.pagination.pageSize,this.selection=new _e(!0,[]),this.showFirstLastButtons=te.pagination.showFirstLastButtons,this.employees=[],this.moneySources=[],this.sourceFilterFormGroup=this.fb.group({employeeId:[""],moneySourceId:[""]})}ngOnInit(){this.employeesHttp.getAll().subscribe({next:t=>this.employees=t}),this.moneySourcesHttp.getAll().subscribe({next:t=>this.moneySources=t})}ngAfterViewInit(){this.sort.sortChange.subscribe({next:()=>this.paginator.pageIndex=0}),ce(this.sort.sortChange,this.paginator.page,this.refreshGrid,this.sourceFilterChanged).pipe(de({}),ue(()=>(this.isLoadingResults=!0,this.creditsHttp.paginate(this.getFilterQuery).pipe(pe(()=>me(null))))),se(t=>(this.isLoadingResults=!1,this.isRateLimitReached=t?.data===null,we(t)?[]:(this.resultsLength=t?.count,t?.items)))).subscribe({next:t=>this.dataSource.data=t})}newItem(t="creation",i=0){this.matDialog.open(ct,{data:{id:i,mode:t},disableClose:!0,minHeight:"90vh",autoFocus:!1}).afterClosed().subscribe({next:l=>this.refreshGrid.emit()})}deleteItem(t){confirm("Etes-vous s\xFBr de ce que vous faites ?")&&this.deleteMany([t])}deleteSeleted(){confirm("Etes-vous s\xFBr de ce que vous faites ?")&&this.deleteMany(this.selection.selected)}filterItems(){this.sourceFilterChanged.emit()}resetItemsFilterForm(){this.sourceFilterFormGroup.reset({employeeId:"",moneySourceId:""}),this.sourceFilterChanged.emit()}toggleFilterMenu(){this.isFilterMenuOpen=!this.isFilterMenuOpen,this.isFilterMenuOpen&&setTimeout(()=>{this.firstFocused?.nativeElement.focus()},200)}allSelectionChanged(t){t&&this.toggleAllRows()}selectionChanged(t,i){t&&this.selection.toggle(i)}deleteMany(t){let i=new URLSearchParams;t.forEach(s=>{i.append("id",s.id.toString())});let l=`?${i.toString()}`;this.creditsHttp.deleteMany(l).subscribe({next:s=>{s.success&&(this.snackBar.open("Op\xE9ration r\xE9ussie","\u2714",{duration:7e3}),this.refreshGrid.emit(),this.selection.clear())},error:s=>this.snackBar.open(s.message)})}get getFilterQuery(){let t=new URLSearchParams,i={pageIndex:this.paginator.pageIndex,pageSize:this.pageSize,employeeId:this.sourceFilterFormGroup.get("employeeId")?.value,moneySourceId:this.sourceFilterFormGroup.get("moneySourceId")?.value};return T(i.pageIndex)&&t.append("pageIndex",i.pageIndex.toString()),T(i.pageSize)&&t.append("pageSize",i.pageSize.toString()),t.append("order","DESC"),T(i.employeeId)&&t.append("employeeId",i.employeeId),T(i.moneySourceId)&&t.append("moneySourceId",i.moneySourceId),`?${t.toString()}`}getTracabilityInfo(t){return this.traceability.info(t)}};o.\u0275fac=function(i){return new(i||o)(g(z),g(q),g(ke),g(Fe),g(rt),g(U),g(Be))},o.\u0275cmp=M({type:o,selectors:[["app-employee-credits-grid"]],viewQuery:function(i,l){if(i&1&&(F(L,5),F(Q,5),F(Rt,5)),i&2){let s;w(s=I())&&(l.paginator=s.first),w(s=I())&&(l.sort=s.first),w(s=I())&&(l.firstFocused=s.first)}},decls:48,vars:12,consts:[[1,"flex","flex-1","flex-col","p-3","bg-secondary-50","gap-y-2"],[1,"flex","flex-col"],[1,"flex","flex-row","justify-between","items-center"],[1,"relative"],["mat-button","","cdkOverlayOrigin","",3,"click"],["trigger","cdkOverlayOrigin"],[1,"space-x-2"],[1,"ri-equalizer-line","text-lg"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayHasBackdrop","backdropClick"],[1,"flex","flex-row","items-center","gap-x-3"],["mat-stroked-button","","color","warn","class","!border-red-700 !border",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"],[1,"!flex","!flex-row","!items-center","!space-x-2"],[1,"ri-add-line","text-lg"],[1,"text-white"],[1,"relative","flex-1","overflow-auto","!h-[calc(100vh-185px)]","bg-white","rounded","shadow"],["mat-table","","matSort","","matSortActive","createdAt","matSortDisableClear","","matSortDirection","desc",1,"w-full",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","employeeId.name"],["matColumnDef","amount"],["matColumnDef","moneySourceId.label"],["matColumnDef","date"],["matColumnDef","actions"],["mat-header-cell","","class","!text-center w-20 ",4,"matHeaderCellDef"],["mat-header-row","","class","!bg-gray-50",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","hover:!bg-slate-50 cursor-pointer",4,"matRowDef","matRowDefColumns"],["class","flex flex-row items-center space-x-1 p-4",4,"ngIf"],["aria-label","S\xE9lectionnez la page des r\xE9sultats de recherche d'apc kouba",1,"!flex","!justify-start","!bg-transparent",3,"showFirstLastButtons","length","pageSize"],[1,"flex","flex-col","min-w-[400px]","max-h-[80vh]","overflow-auto","bg-white","shadow-lg","border","border-gray-200","rounded-sm"],[1,"flex","flex-row","items-center","justify-between","px-4","py-2","bg-slate-100"],[3,"click"],[1,"ri-close-line"],[1,"flex","flex-col","!text-sm","gap-y-2","p-5",3,"formGroup"],["formControlName","employeeId","myInput",""],[4,"ngFor","ngForOf"],[3,"required"],["formControlName","moneySourceId","myInput",""],[1,"flex","flex-row","justify-between","p-6"],["mat-stroked-button","","color","secondary",3,"click"],[3,"value"],["mat-stroked-button","","color","warn",1,"!border-red-700","!border",3,"click"],[1,"flex","flex-row","items-center","gap-x-2"],[1,"ri-delete-bin-6-line","text-lg"],["mat-header-cell",""],["color","primary",3,"checked","indeterminate","aria-label","change"],["mat-cell",""],["color","primary",3,"checked","aria-label","click","change"],["mat-header-cell","",1,"!text-center","w-20"],[1,"flex","flex-row","items-center","space-x-2"],["mat-icon-button","",3,"matTooltip"],[1,"ri-information-line"],["mat-header-row","",1,"!bg-gray-50"],["mat-row","",1,"hover:!bg-slate-50","cursor-pointer"],[1,"flex","flex-row","items-center","space-x-1","p-4"],[1,"text-sm","font-light","text-black"]],template:function(i,l){if(i&1&&(r(0,"div",0)(1,"div",1)(2,"h3"),m(3,"RH / Acomptes"),n()(),r(4,"div",2)(5,"div",3)(6,"button",4,5),y("click",function(){return l.toggleFilterMenu()}),r(8,"div",6),u(9,"i",7),r(10,"span"),m(11,"FILTRE"),n()()(),d(12,qt,22,4,"ng-template",8),y("backdropClick",function(){return l.toggleFilterMenu()}),n(),r(13,"div",9),d(14,Lt,5,1,"button",10),r(15,"button",11),y("click",function(){return l.newItem()}),r(16,"div",12),u(17,"i",13),r(18,"span",14),m(19,"Acompte"),n()()()()(),r(20,"div")(21,"div",15)(22,"table",16),_(23,17),d(24,Bt,2,3,"th",18)(25,jt,2,2,"td",19),C(),_(26,20),d(27,$t,2,0,"th",18)(28,zt,2,1,"td",19),C(),_(29,21),d(30,Qt,2,0,"th",18)(31,Ut,2,1,"td",19),C(),_(32,22),d(33,Wt,2,0,"th",18)(34,Jt,2,1,"td",19),C(),_(35,23),d(36,Zt,2,0,"th",18)(37,Kt,2,1,"td",19),C(),_(38,24),d(39,Xt,2,0,"th",18)(40,Yt,3,4,"td",19),C(),_(41,25),d(42,ei,2,0,"th",26)(43,ti,4,1,"td",19),C(),d(44,ii,1,0,"tr",27)(45,ni,1,0,"tr",28),n(),d(46,ri,3,0,"div",29),n(),u(47,"mat-paginator",30),n()()),i&2){let s=fe(7);c(12),p("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",l.isFilterMenuOpen)("cdkConnectedOverlayHasBackdrop",!0),c(2),p("ngIf",l.selection.selected.length>0),c(8),p("dataSource",l.dataSource),c(22),p("matHeaderRowDef",l.displayedColumns)("matHeaderRowDefSticky",!0),c(),p("matRowDefColumns",l.displayedColumns),c(),p("ngIf",l.dataSource.data.length==0),c(),p("showFirstLastButtons",l.showFirstLastButtons)("length",l.resultsLength)("pageSize",l.pageSize)}},dependencies:[W,O,R,Z,K,J,V,N,A,H,ve,P,ge,Te,Me,Oe,Re,Pe,De,Ae,Ve,Ne,He,qe,L,Q,xe,Ce,$,B,j,Xe],styles:[`app-employee-credits-grid{display:flex;flex:1}
`],encapsulation:2});let e=o;return e})();var oi=["firstFocused"];function li(e,o){if(e&1&&u(0,"my-global-errors",31),e&2){let a=h();p("errors",a.errors)}}function ai(e,o){e&1&&(r(0,"my-error"),m(1," Veuillez remplir ce champ. "),n())}function mi(e,o){e&1&&(r(0,"my-error"),m(1," Veuillez remplir ce champ. "),n())}function si(e,o){e&1&&(r(0,"my-error"),m(1," Veuillez remplir ce champ. "),n())}function ci(e,o){if(e&1&&(_(0),r(1,"option",32),m(2),n(),C()),e&2){let a=o.$implicit;c(),p("value",a.code),c(),S(a.name)}}var _t=(()=>{let o=class o{constructor(t,i,l,s,f){this.fb=t,this.dialogRef=i,this.data=l,this.snackBar=s,this.employeesHttp=f,this.errors=[],this.provinces=Ft,this.employeeFormGroup=this.fb.group({id:[void 0],code:[""],name:["",[G.required]],salary:[0,[G.required]],debt:[{value:0,disabled:!0},[G.required]],postalCode:[""],province:[""],city:[""],address:[""],phoneNumberOne:[""],phoneNumberTow:[""],fax:[""],email:[""],website:[""],notes:[""]})}ngOnInit(){this.data.mode=="edit"&&this.loadData(this.data.id)}loadData(t){this.employeesHttp.getOneById(t).subscribe({next:i=>{this.employeeFormGroup.patchValue({id:i.id,code:i.code,name:i.name,salary:i.salary,debt:i.debt,postalCode:i.postalCode,province:i.province,city:i.city,address:i.address,phoneNumberOne:i.phoneNumberOne,phoneNumberTow:i.phoneNumberTow,fax:i.fax,email:i.email,website:i.website,notes:i.notes})}})}ngAfterViewInit(){setTimeout(()=>{this.firstFocused.nativeElement.focus()},300)}save(){this.errors=[],this.employeeFormGroup.valid==!0?this.data.mode=="creation"?this.employeesHttp.create(this.getCreation()).subscribe({next:t=>{t.success?(this.snackBar.open("Op\xE9ration r\xE9ussie","\u2714",{duration:7e3}),this.data={id:t.data.id,mode:"edit"},this.loadData(t.data.id)):this.errors=t.errors},error:t=>console.error(t)}):this.employeesHttp.update(this.data.id,this.getUpdate()).subscribe({next:t=>{t.success?(this.snackBar.open("Op\xE9ration r\xE9ussie","\u2714",{duration:7e3}),this.loadData(t.data.id)):this.errors=t.errors},error:t=>this.snackBar.open("L'op\xE9ration a \xE9chou\xE9","\u274C",{duration:7e3})}):this.employeeFormGroup.markAllAsTouched()}resetForm(){this.employeeFormGroup.reset({id:void 0,code:"",name:"",salary:0,debt:0,postalCode:"",province:"",city:"",address:"",phoneNumberOne:"",phoneNumberTow:"",fax:"",email:"",website:"",notes:""},{emitEvent:!1})}create(){this.resetForm(),this.firstFocused.nativeElement.focus(),this.employeeFormGroup.markAsUntouched(),this.employeeFormGroup.clearValidators(),this.employeeFormGroup.clearAsyncValidators(),this.data={id:0,mode:"creation"}}getCreation(){return Y({},this.employeeFormGroup.getRawValue())}getUpdate(){return Y({},this.employeeFormGroup.getRawValue())}closeDialog(){this.dialogRef.close()}};o.\u0275fac=function(i){return new(i||o)(g(q),g(Ie),g(Ge),g(z),g(U))},o.\u0275cmp=M({type:o,selectors:[["app-employee-form"]],viewQuery:function(i,l){if(i&1&&F(oi,5),i&2){let s;w(s=I())&&(l.firstFocused=s.first)}},decls:80,vars:10,consts:[[1,"dialog-container"],[1,"dialog-header"],[1,"text-lg","font-medium"],[3,"click"],[1,"ri-close-line","text-2xl"],["class","px-3",3,"errors",4,"ngIf"],[1,"dialog-content"],[1,"flex","flex-col","gap-y-5","mt-3",3,"formGroup"],["formControlName","id","type","number",1,"!hidden"],[1,"inline-fields"],["formControlName","code","type","text","myInput",""],["firstFocused",""],[3,"required"],["formControlName","name","type","text","myInput",""],[4,"ngIf"],["formControlName","debt","type","number","myInput","","myCalculableField",""],["formControlName","salary","type","number","myInput",""],["formControlName","province","myInput",""],[4,"ngFor","ngForOf"],["formControlName","city","type","text","myInput",""],["formControlName","address","type","text","myInput",""],["formControlName","phoneNumberOne","type","text","myInput",""],["formControlName","phoneNumberTow","type","text","myInput",""],["formControlName","fax","type","text","myInput",""],["formControlName","postalCode","type","text","myInput",""],["formControlName","email","type","email","myInput",""],["formControlName","website","type","text","myInput",""],["formControlName","notes","myTextarea","","type","text"],[1,"dialog-actions"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary",3,"click"],[1,"px-3",3,"errors"],[3,"value"]],template:function(i,l){if(i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),m(3),n(),r(4,"button",3),y("click",function(){return l.closeDialog()}),u(5,"i",4),n()(),d(6,li,1,1,"my-global-errors",5),r(7,"div",6)(8,"form",7),u(9,"input",8),r(10,"div",9)(11,"my-form-field")(12,"my-label"),m(13,"Code"),n(),u(14,"input",10,11),n(),r(16,"my-form-field")(17,"my-label",12),m(18,"Nom"),n(),u(19,"input",13),d(20,ai,2,0,"my-error",14),n(),r(21,"my-form-field")(22,"my-label",12),m(23,"Dette"),n(),u(24,"input",15),d(25,mi,2,0,"my-error",14),n(),r(26,"my-form-field")(27,"my-label",12),m(28,"Salaire"),n(),u(29,"input",16),d(30,si,2,0,"my-error",14),n()(),r(31,"div",9)(32,"my-form-field")(33,"my-label"),m(34,"Wilaya"),n(),r(35,"select",17),d(36,ci,3,2,"ng-container",18),n()(),r(37,"my-form-field")(38,"my-label"),m(39,"Ville"),n(),u(40,"input",19),n()(),r(41,"my-form-field")(42,"my-label"),m(43,"Adresse"),n(),u(44,"input",20),n(),r(45,"div",9)(46,"my-form-field")(47,"my-label"),m(48,"Num-T\xE9l 1"),n(),u(49,"input",21),n(),r(50,"my-form-field")(51,"my-label"),m(52,"Num-T\xE9l 2"),n(),u(53,"input",22),n(),r(54,"my-form-field")(55,"my-label"),m(56,"Fax"),n(),u(57,"input",23),n()(),r(58,"div",9)(59,"my-form-field")(60,"my-label"),m(61,"Code postal"),n(),u(62,"input",24),n(),r(63,"my-form-field")(64,"my-label"),m(65,"Email"),n(),u(66,"input",25),n(),r(67,"my-form-field")(68,"my-label"),m(69,"Site web"),n(),u(70,"input",26),n()(),r(71,"my-form-field")(72,"my-label"),m(73,"Notes"),n(),u(74,"textarea",27),n()()(),r(75,"div",28)(76,"button",29),y("click",function(){return l.create()}),m(77,"Nouveau "),n(),r(78,"button",30),y("click",function(){return l.save()}),m(79,"Sauvegarder"),n()()()),i&2){let s,f,x;c(3),D(" ",l.data.mode=="creation"?"Nouveau ":"Modifier "," employ\xE9e "),c(3),p("ngIf",l.errors.length>0),c(2),p("formGroup",l.employeeFormGroup),c(9),p("required",!0),c(3),p("ngIf",((s=l.employeeFormGroup.get("name"))==null?null:s.invalid)&&(((s=l.employeeFormGroup.get("name"))==null?null:s.dirty)||((s=l.employeeFormGroup.get("name"))==null?null:s.touched))&&((s=l.employeeFormGroup.get("name"))==null?null:s.getError("required"))),c(2),p("required",!0),c(3),p("ngIf",((f=l.employeeFormGroup.get("debt"))==null?null:f.invalid)&&(((f=l.employeeFormGroup.get("debt"))==null?null:f.dirty)||((f=l.employeeFormGroup.get("debt"))==null?null:f.touched))&&((f=l.employeeFormGroup.get("debt"))==null?null:f.getError("required"))),c(2),p("required",!0),c(3),p("ngIf",((x=l.employeeFormGroup.get("salary"))==null?null:x.invalid)&&(((x=l.employeeFormGroup.get("salary"))==null?null:x.dirty)||((x=l.employeeFormGroup.get("salary"))==null?null:x.touched))&&((x=l.employeeFormGroup.get("salary"))==null?null:x.getError("required"))),c(6),p("ngForOf",l.provinces)}},dependencies:[W,O,R,Z,K,ie,Se,J,V,N,A,H,P,$,be,B,j,ne,Ee,et],encapsulation:2});let e=o;return e})();var pi=["firstFocused"];function di(e,o){e&1&&(r(0,"my-error"),m(1," Veuillez remplir ce champ. "),n())}function ui(e,o){if(e&1){let a=k();r(0,"div",33)(1,"div",34)(2,"span"),m(3,"Filtrer"),n(),r(4,"button",35),y("click",function(){v(a);let i=h();return b(i.toggleFilterMenu())}),u(5,"i",36),n()(),r(6,"form",37)(7,"my-form-field")(8,"my-label"),m(9,"Nom *"),n(),u(10,"input",38,39),d(12,di,2,0,"my-error",40),n()(),r(13,"div",41)(14,"button",42),y("click",function(){v(a);let i=h();return b(i.resetItemsFilterForm())}),m(15,"R\xE9initialiser"),n(),r(16,"button",11),y("click",function(){v(a);let i=h();return b(i.filterItems())}),m(17,"Appliquer"),n()()()}if(e&2){let a=h(),t;c(6),p("formGroup",a.employeeFilterFormGroup),c(6),p("ngIf",((t=a.employeeFilterFormGroup.get("name"))==null?null:t.invalid)&&(((t=a.employeeFilterFormGroup.get("name"))==null?null:t.dirty)||((t=a.employeeFilterFormGroup.get("name"))==null?null:t.touched))&&((t=a.employeeFilterFormGroup.get("name"))==null?null:t.getError("required")))}}function fi(e,o){if(e&1){let a=k();r(0,"button",43),y("click",function(){v(a);let i=h();return b(i.deleteSeleted())}),r(1,"div",44),u(2,"i",45),r(3,"span"),m(4),n()()()}if(e&2){let a=h();c(4),D("Supprimer (",a.selection.selected.length,")")}}function yi(e,o){if(e&1){let a=k();r(0,"th",46)(1,"mat-checkbox",47),y("change",function(i){v(a);let l=h();return b(l.allSelectionChanged(i))}),n()()}if(e&2){let a=h();c(),p("checked",a.selection.hasValue()&&a.isAllSelected())("indeterminate",a.selection.hasValue()&&!a.isAllSelected())("aria-label",a.checkboxLabel())}}function hi(e,o){if(e&1){let a=k();r(0,"td",48)(1,"mat-checkbox",49),y("click",function(i){return i.stopPropagation()})("change",function(i){let s=v(a).$implicit,f=h();return b(f.selectionChanged(i,s))}),n()()}if(e&2){let a=o.$implicit,t=h();c(),p("checked",t.selection.isSelected(a))("aria-label",t.checkboxLabel(a))}}function gi(e,o){e&1&&(r(0,"th",46),m(1,"Code "),n())}function _i(e,o){if(e&1&&(r(0,"td",48),m(1),n()),e&2){let a=o.$implicit;c(),S(a.code)}}function Ci(e,o){e&1&&(r(0,"th",46),m(1,"Nom "),n())}function xi(e,o){if(e&1&&(r(0,"td",48),m(1),ye(2,"myLimitTextLength"),n()),e&2){let a=o.$implicit;c(),S(he(2,1,a.name,30))}}function Si(e,o){e&1&&(r(0,"th",46),m(1,"Salaire "),n())}function vi(e,o){if(e&1&&(r(0,"td",48),m(1),n()),e&2){let a=o.$implicit;c(),S(a.salary)}}function bi(e,o){e&1&&(r(0,"th",46),m(1,"Dette "),n())}function Ei(e,o){if(e&1&&(r(0,"td",48),m(1),n()),e&2){let a=o.$implicit;c(),S(a.debt)}}function Fi(e,o){e&1&&(r(0,"th",46),m(1,"Num-T\xE9l 1"),n())}function wi(e,o){if(e&1&&(r(0,"td",48),m(1),n()),e&2){let a=o.$implicit;c(),S(a.phoneNumberOne)}}function Ii(e,o){e&1&&(r(0,"th",46),m(1,"Num-T\xE9l 2"),n())}function Gi(e,o){if(e&1&&(r(0,"td",48),m(1),n()),e&2){let a=o.$implicit;c(),S(a.phoneNumberTow)}}function ki(e,o){e&1&&(r(0,"th",46),m(1,"Notes"),n())}function Ti(e,o){if(e&1&&(r(0,"td",48),m(1),n()),e&2){let a=o.$implicit;c(),S(a.notes)}}function Mi(e,o){e&1&&(r(0,"th",50),m(1,"Action"),n())}function Di(e,o){if(e&1){let a=k();r(0,"td",48)(1,"div",51)(2,"button",52),u(3,"i",53),n(),r(4,"button",54),y("click",function(){let l=v(a).$implicit,s=h();return b(s.deleteItem(l))}),u(5,"i",55),n(),r(6,"button",54),y("click",function(){let l=v(a).$implicit,s=h();return b(s.newItem("edit",l.id))}),u(7,"i",56),n()()()}if(e&2){let a=o.$implicit,t=h();c(2),p("matTooltip",t.getTracabilityInfo(a))}}function Oi(e,o){e&1&&u(0,"tr",57)}function Pi(e,o){if(e&1){let a=k();r(0,"tr",58),y("dblclick",function(){let l=v(a).$implicit,s=h();return b(s.newItem("edit",l.id))}),n()}}function Vi(e,o){e&1&&(r(0,"div",59)(1,"p",60),m(2,"Aucune donn\xE9e \xE0 afficher"),n()())}var Ct=(()=>{let o=class o{isAllSelected(){let t=this.selection.selected.length,i=this.dataSource.data.length;return t===i}toggleAllRows(){if(this.isAllSelected()){this.selection.clear();return}this.selection.select(...this.dataSource.data)}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:`${this.isAllSelected()?"deselect":"select"} all`}constructor(t,i,l,s,f){this.employeesHttp=t,this.snackBar=i,this.fb=l,this.matDialog=s,this.traceability=f,this.dataSource=new Le([]),this.displayedColumns=["select","code","name","salary","debt","phoneNumberOne","phoneNumberTow","actions"],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.isFilterMenuOpen=!1,this.refreshGrid=new ee,this.employeeFilterChanged=new ee,this.pageSize=te.pagination.pageSize,this.employees=[],this.selection=new _e(!0,[]),this.showFirstLastButtons=te.pagination.showFirstLastButtons,this.employeeFilterFormGroup=this.fb.group({name:[""]})}ngOnInit(){}ngAfterViewInit(){this.sort.sortChange.subscribe({next:()=>this.paginator.pageIndex=0}),ce(this.sort.sortChange,this.paginator.page,this.refreshGrid,this.employeeFilterChanged).pipe(de({}),ue(()=>(this.isLoadingResults=!0,this.employeesHttp.paginate(this.getFilterQuery).pipe(pe(()=>me(null))))),se(t=>(this.isLoadingResults=!1,this.isRateLimitReached=t?.data===null,we(t)?[]:(this.resultsLength=t?.count,t?.items)))).subscribe({next:t=>this.dataSource.data=t})}newItem(t="creation",i=0){this.matDialog.open(_t,{data:{id:i,mode:t},disableClose:!0,autoFocus:!1}).afterClosed().subscribe({next:l=>this.refreshGrid.emit()})}deleteItem(t){confirm("Etes-vous s\xFBr de ce que vous faites ?")&&this.deleteMany([t])}deleteSeleted(){confirm("Etes-vous s\xFBr de ce que vous faites ?")&&this.deleteMany(this.selection.selected)}filterItems(){this.employeeFilterChanged.emit()}resetItemsFilterForm(){this.employeeFilterFormGroup.reset({name:""}),this.employeeFilterChanged.emit()}toggleFilterMenu(){this.isFilterMenuOpen=!this.isFilterMenuOpen,this.isFilterMenuOpen&&setTimeout(()=>{this.firstFocused?.nativeElement.focus()},200)}allSelectionChanged(t){t&&this.toggleAllRows()}selectionChanged(t,i){t&&this.selection.toggle(i)}deleteMany(t){let i=new URLSearchParams;t.forEach(s=>{i.append("id",s.id.toString())});let l=`?${i.toString()}`;this.employeesHttp.deleteMany(l).subscribe({next:s=>{s.success&&(this.snackBar.open("Op\xE9ration r\xE9ussie","\u2714",{duration:7e3}),this.refreshGrid.emit(),this.selection.clear())},error:s=>this.snackBar.open(s.message)})}get getFilterQuery(){let t=new URLSearchParams,i={pageIndex:this.paginator.pageIndex,pageSize:this.pageSize,label:this.employeeFilterFormGroup.get("name")?.value};return T(i.pageIndex)&&t.append("pageIndex",i.pageIndex.toString()),T(i.pageSize)&&t.append("pageSize",i.pageSize.toString()),t.append("order","DESC"),T(i.label)&&t.append("name",i.label),`?${t.toString()}`}getTracabilityInfo(t){return this.traceability.info(t)}};o.\u0275fac=function(i){return new(i||o)(g(U),g(z),g(q),g(ke),g(Fe))},o.\u0275cmp=M({type:o,selectors:[["app-employees-grid"]],viewQuery:function(i,l){if(i&1&&(F(L,5),F(Q,5),F(pi,5)),i&2){let s;w(s=I())&&(l.paginator=s.first),w(s=I())&&(l.sort=s.first),w(s=I())&&(l.firstFocused=s.first)}},decls:54,vars:12,consts:[[1,"flex","flex-1","flex-col","p-3","bg-secondary-50","gap-y-2"],[1,"flex","flex-col"],[1,"flex","flex-row","justify-between","items-center"],[1,"relative"],["mat-button","","cdkOverlayOrigin","",3,"click"],["trigger","cdkOverlayOrigin"],[1,"space-x-2"],[1,"ri-equalizer-line","text-lg"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayHasBackdrop","backdropClick"],[1,"flex","flex-row","items-center","gap-x-3"],["mat-stroked-button","","color","warn","class","!border-red-700 !border",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"],[1,"!flex","!flex-row","!items-center","!space-x-2"],[1,"ri-add-line","text-lg"],[1,"text-white"],[1,"relative","flex-1","overflow-auto","!h-[calc(100vh-185px)]","bg-white","rounded","shadow"],["mat-table","","matSort","","matSortActive","createdAt","matSortDisableClear","","matSortDirection","desc",1,"w-full",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","name"],["matColumnDef","salary"],["matColumnDef","debt"],["matColumnDef","phoneNumberOne"],["matColumnDef","phoneNumberTow"],["matColumnDef","notes"],["matColumnDef","actions"],["mat-header-cell","","class","!text-center w-20 ",4,"matHeaderCellDef"],["mat-header-row","","class","!bg-gray-50",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","hover:!bg-slate-50 cursor-pointer",3,"dblclick",4,"matRowDef","matRowDefColumns"],["class","flex flex-row items-center space-x-1 p-4",4,"ngIf"],["aria-label","S\xE9lectionnez la page des r\xE9sultats de recherche d'apc kouba",1,"!flex","!justify-start","!bg-transparent",3,"showFirstLastButtons","length","pageSize"],[1,"flex","flex-col","min-w-[400px]","max-h-[80vh]","overflow-auto","bg-white","shadow-lg","border","border-gray-200","rounded-sm"],[1,"flex","flex-row","items-center","justify-between","px-4","py-2","bg-slate-100"],[3,"click"],[1,"ri-close-line"],[1,"flex","flex-col","!text-sm","gap-y-2","p-5",3,"formGroup"],["formControlName","name","type","text","myInput",""],["firstFocused",""],[4,"ngIf"],[1,"flex","flex-row","justify-between","p-6"],["mat-stroked-button","","color","secondary",3,"click"],["mat-stroked-button","","color","warn",1,"!border-red-700","!border",3,"click"],[1,"flex","flex-row","items-center","gap-x-2"],[1,"ri-delete-bin-6-line","text-lg"],["mat-header-cell",""],["color","primary",3,"checked","indeterminate","aria-label","change"],["mat-cell",""],["color","primary",3,"checked","aria-label","click","change"],["mat-header-cell","",1,"!text-center","w-20"],[1,"flex","flex-row","items-center","space-x-2"],["mat-icon-button","",3,"matTooltip"],[1,"ri-information-line"],["mat-icon-button","",3,"click"],[1,"ri-delete-bin-6-line","text-red-600"],[1,"ri-pencil-line"],["mat-header-row","",1,"!bg-gray-50"],["mat-row","",1,"hover:!bg-slate-50","cursor-pointer",3,"dblclick"],[1,"flex","flex-row","items-center","space-x-1","p-4"],[1,"text-sm","font-light","text-black"]],template:function(i,l){if(i&1&&(r(0,"div",0)(1,"div",1)(2,"h3"),m(3,"RH / Employ\xE9es"),n()(),r(4,"div",2)(5,"div",3)(6,"button",4,5),y("click",function(){return l.toggleFilterMenu()}),r(8,"div",6),u(9,"i",7),r(10,"span"),m(11,"FILTRE"),n()()(),d(12,ui,18,2,"ng-template",8),y("backdropClick",function(){return l.toggleFilterMenu()}),n(),r(13,"div",9),d(14,fi,5,1,"button",10),r(15,"button",11),y("click",function(){return l.newItem()}),r(16,"div",12),u(17,"i",13),r(18,"span",14),m(19,"Employ\xE9e"),n()()()()(),r(20,"div")(21,"div",15)(22,"table",16),_(23,17),d(24,yi,2,3,"th",18)(25,hi,2,2,"td",19),C(),_(26,20),d(27,gi,2,0,"th",18)(28,_i,2,1,"td",19),C(),_(29,21),d(30,Ci,2,0,"th",18)(31,xi,3,4,"td",19),C(),_(32,22),d(33,Si,2,0,"th",18)(34,vi,2,1,"td",19),C(),_(35,23),d(36,bi,2,0,"th",18)(37,Ei,2,1,"td",19),C(),_(38,24),d(39,Fi,2,0,"th",18)(40,wi,2,1,"td",19),C(),_(41,25),d(42,Ii,2,0,"th",18)(43,Gi,2,1,"td",19),C(),_(44,26),d(45,ki,2,0,"th",18)(46,Ti,2,1,"td",19),C(),_(47,27),d(48,Mi,2,0,"th",28)(49,Di,8,1,"td",19),C(),d(50,Oi,1,0,"tr",29)(51,Pi,1,0,"tr",30),n(),d(52,Vi,3,0,"div",31),n(),u(53,"mat-paginator",32),n()()),i&2){let s=fe(7);c(12),p("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",l.isFilterMenuOpen)("cdkConnectedOverlayHasBackdrop",!0),c(2),p("ngIf",l.selection.selected.length>0),c(8),p("dataSource",l.dataSource),c(28),p("matHeaderRowDef",l.displayedColumns)("matHeaderRowDefSticky",!0),c(),p("matRowDefColumns",l.displayedColumns),c(),p("ngIf",l.dataSource.data.length==0),c(),p("showFirstLastButtons",l.showFirstLastButtons)("length",l.resultsLength)("pageSize",l.pageSize)}},dependencies:[O,R,ie,V,N,A,H,ve,P,ge,Te,Me,Oe,Re,Pe,De,Ae,Ve,Ne,He,qe,L,Q,xe,Ce,$,B,j,ne,wt],styles:[`app-employees-grid{display:flex;flex:1}
`],encapsulation:2});let e=o;return e})();var Ni=["firstFocused"];function Ri(e,o){if(e&1&&u(0,"my-global-errors",26),e&2){let a=h();p("errors",a.errors)}}function Ai(e,o){if(e&1&&(_(0),r(1,"option",27),m(2),n(),C()),e&2){let a=o.$implicit;c(),p("value",a.id),c(),S(a.name)}}function Hi(e,o){e&1&&(r(0,"my-error"),m(1," Veuillez remplir ce champ. "),n())}function qi(e,o){e&1&&(r(0,"my-error"),m(1," Veuillez remplir ce champ. "),n())}function Li(e,o){e&1&&(r(0,"my-error"),m(1," Veuillez remplir ce champ. "),n())}function Bi(e,o){e&1&&(r(0,"my-error"),m(1," Veuillez remplir ce champ. "),n())}function ji(e,o){if(e&1&&(_(0),r(1,"option",27),m(2),n(),C()),e&2){let a=o.$implicit;c(),p("value",a.id),c(),S(a.label)}}function $i(e,o){e&1&&(r(0,"my-error"),m(1," Veuillez remplir ce champ. "),n())}function zi(e,o){e&1&&(r(0,"my-error"),m(1," Veuillez remplir ce champ. "),n())}var xt=(()=>{let o=class o{constructor(t,i,l,s,f,x,E){this.fb=t,this.dialogRef=i,this.data=l,this.snackBar=s,this.paymentsHttp=f,this.employeesHttp=x,this.moneySourcesHttp=E,this.errors=[],this.employees=[],this.moneySources=[],this.paymentFormGroup=this.fb.group({id:[void 0],code:[""],employeeId:[void 0,[G.required]],moneySourceId:[void 0,[G.required]],moneySourceAmount:[{value:0,disabled:!0},[G.required]],payment:[0,[G.required]],calculatedPayment:[{value:0,disabled:!0},[G.required]],restPayment:[{value:0,disabled:!0},[G.required]],date:[re(),[G.required]],notes:[""]})}ngOnInit(){this.moneySourcesHttp.getAll().subscribe({next:t=>{this.employeesHttp.getAll().subscribe({next:i=>{this.employees=i,this.moneySources=t,this.data.mode=="edit"&&this.loadData(this.data.id)}})}}),this.handleFormChanged()}loadData(t){this.paymentsHttp.getOneById(t).subscribe({next:i=>{this.paymentFormGroup.patchValue({id:i.id,code:i.code,employeeId:i.employeeId.id,moneySourceId:i.moneySourceId.id,moneySourceAmount:i.moneySourceAmount,payment:i.payment,calculatedPayment:i.calculatedPayment,restPayment:i.restPayment,date:Ye(i.date),notes:i.notes})}})}ngAfterViewInit(){setTimeout(()=>{this.firstFocused.nativeElement.focus()},300)}save(){this.errors=[],this.paymentFormGroup.valid==!0?this.data.mode=="creation"?this.paymentsHttp.create(this.getCreation()).subscribe({next:t=>{t.success?(this.snackBar.open("Op\xE9ration r\xE9ussie","\u2714",{duration:7e3}),this.create()):this.errors=t.errors},error:t=>console.error(t)}):this.paymentsHttp.update(this.data.id,this.getUpdate()).subscribe({next:t=>{t.success?(this.snackBar.open("Op\xE9ration r\xE9ussie","\u2714",{duration:7e3}),this.loadData(t.data.id)):this.errors=t.errors},error:t=>this.snackBar.open("L'op\xE9ration a \xE9chou\xE9","\u274C",{duration:7e3})}):this.paymentFormGroup.markAllAsTouched()}resetForm(){this.paymentFormGroup.reset({id:void 0,code:"",employeeId:void 0,moneySourceId:void 0,moneySourceAmount:0,payment:0,calculatedPayment:0,restPayment:0,date:re(),notes:""},{emitEvent:!1})}create(){this.resetForm(),this.firstFocused.nativeElement.focus(),this.paymentFormGroup.markAsUntouched(),this.paymentFormGroup.clearValidators(),this.paymentFormGroup.clearAsyncValidators(),this.data={id:0,mode:"creation"}}getCreation(){return Y({},this.paymentFormGroup.getRawValue())}getUpdate(){return Y({},this.paymentFormGroup.getRawValue())}closeDialog(){this.dialogRef.close()}handleFormChanged(){this.paymentFormGroup.get("employeeId")?.valueChanges.subscribe({next:t=>{this.employeesHttp.getOneById(t).subscribe({next:i=>{this.paymentFormGroup.get("calculatedPayment")?.setValue(i.debt),this.paymentFormGroup.get("restPayment")?.setValue(i.debt);let l=this.paymentFormGroup.get("payment")?.value,s=X(this.paymentFormGroup.get("calculatedPayment")?.value);this.paymentFormGroup.get("restPayment")?.setValue(X(s)-X(l))}})}}),this.paymentFormGroup.get("payment")?.valueChanges.subscribe({next:t=>{let i=X(this.paymentFormGroup.get("calculatedPayment")?.value);this.paymentFormGroup.get("restPayment")?.setValue(X(i)-X(t))}}),this.paymentFormGroup.get("moneySourceId")?.valueChanges.subscribe({next:t=>{this.moneySourcesHttp.getOneById(t).subscribe({next:i=>{this.paymentFormGroup.get("moneySourceAmount")?.setValue(i.amount)}})}})}};o.\u0275fac=function(i){return new(i||o)(g(q),g(Ie),g(Ge),g(z),g(ot),g(U),g(Be))},o.\u0275cmp=M({type:o,selectors:[["app-employee-payment-form"]],viewQuery:function(i,l){if(i&1&&F(Ni,5),i&2){let s;w(s=I())&&(l.firstFocused=s.first)}},decls:59,vars:16,consts:[[1,"dialog-container"],[1,"dialog-header"],[1,"text-lg","font-medium"],[3,"click"],[1,"ri-close-line","text-2xl"],["class","px-3",3,"errors",4,"ngIf"],[1,"dialog-content"],[1,"flex","flex-col","gap-y-5","mt-3","h-64",3,"formGroup"],["formControlName","id","type","number",1,"!hidden"],["formControlName","code","type","text","myInput",""],["firstFocused",""],[1,"flex","flex-row","justify-between","gap-x-6"],[1,"flex","flex-col","gap-y-3","w-1/2"],["formControlName","employeeId","myInput",""],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"required"],["formControlName","calculatedPayment","type","number","myInput","","myCalculableField",""],["formControlName","payment","type","number","myInput",""],["formControlName","restPayment","type","number","myInput","","myCalculableField",""],["formControlName","moneySourceId","myInput",""],["formControlName","moneySourceAmount","type","number","myInput","","myCalculableField",""],["formControlName","notes","myTextarea","","type","text"],[1,"dialog-actions"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary",3,"click"],[1,"px-3",3,"errors"],[3,"value"]],template:function(i,l){if(i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),m(3),n(),r(4,"button",3),y("click",function(){return l.closeDialog()}),u(5,"i",4),n()(),d(6,Ri,1,1,"my-global-errors",5),r(7,"div",6)(8,"form",7),u(9,"input",8),r(10,"my-form-field")(11,"my-label"),m(12,"Code"),n(),u(13,"input",9,10),n(),r(15,"div",11)(16,"div",12)(17,"my-form-field")(18,"my-label"),m(19,"Employ\xE9"),n(),r(20,"select",13),d(21,Ai,3,2,"ng-container",14),n(),d(22,Hi,2,0,"my-error",15),n(),r(23,"my-form-field")(24,"my-label",16),m(25,"Paiement calcul\xE9"),n(),u(26,"input",17),d(27,qi,2,0,"my-error",15),n(),r(28,"my-form-field")(29,"my-label",16),m(30,"Versement"),n(),u(31,"input",18),d(32,Li,2,0,"my-error",15),n(),r(33,"my-form-field")(34,"my-label",16),m(35,"Restant"),n(),u(36,"input",19),d(37,Bi,2,0,"my-error",15),n()(),r(38,"div",12)(39,"my-form-field")(40,"my-label",16),m(41,"Source d'argent"),n(),r(42,"select",20),d(43,ji,3,2,"ng-container",14),n(),d(44,$i,2,0,"my-error",15),n(),r(45,"my-form-field")(46,"my-label",16),m(47,"Montant"),n(),u(48,"input",21),d(49,zi,2,0,"my-error",15),n()()(),r(50,"my-form-field")(51,"my-label"),m(52,"Notes"),n(),u(53,"textarea",22),n()()(),r(54,"div",23)(55,"button",24),y("click",function(){return l.create()}),m(56,"Nouvelle "),n(),r(57,"button",25),y("click",function(){return l.save()}),m(58,"Sauvegarder"),n()()()),i&2){let s,f,x,E,le,ae;c(3),D(" ",l.data.mode=="creation"?"Nouveau ":"Modifier "," Paiement "),c(3),p("ngIf",l.errors.length>0),c(2),p("formGroup",l.paymentFormGroup),c(13),p("ngForOf",l.employees),c(),p("ngIf",((s=l.paymentFormGroup.get("employeeId"))==null?null:s.invalid)&&(((s=l.paymentFormGroup.get("employeeId"))==null?null:s.dirty)||((s=l.paymentFormGroup.get("employeeId"))==null?null:s.touched))&&((s=l.paymentFormGroup.get("employeeId"))==null?null:s.getError("required"))),c(2),p("required",!0),c(3),p("ngIf",((f=l.paymentFormGroup.get("calculatedPayment"))==null?null:f.invalid)&&(((f=l.paymentFormGroup.get("calculatedPayment"))==null?null:f.dirty)||((f=l.paymentFormGroup.get("calculatedPayment"))==null?null:f.touched))&&((f=l.paymentFormGroup.get("calculatedPayment"))==null?null:f.getError("required"))),c(2),p("required",!0),c(3),p("ngIf",((x=l.paymentFormGroup.get("payment"))==null?null:x.invalid)&&(((x=l.paymentFormGroup.get("payment"))==null?null:x.dirty)||((x=l.paymentFormGroup.get("payment"))==null?null:x.touched))&&((x=l.paymentFormGroup.get("payment"))==null?null:x.getError("required"))),c(2),p("required",!0),c(3),p("ngIf",((E=l.paymentFormGroup.get("restPayment"))==null?null:E.invalid)&&(((E=l.paymentFormGroup.get("restPayment"))==null?null:E.dirty)||((E=l.paymentFormGroup.get("restPayment"))==null?null:E.touched))&&((E=l.paymentFormGroup.get("restPayment"))==null?null:E.getError("required"))),c(3),p("required",!0),c(3),p("ngForOf",l.moneySources),c(),p("ngIf",((le=l.paymentFormGroup.get("moneySourceId"))==null?null:le.invalid)&&(((le=l.paymentFormGroup.get("moneySourceId"))==null?null:le.dirty)||((le=l.paymentFormGroup.get("moneySourceId"))==null?null:le.touched))&&((le=l.paymentFormGroup.get("moneySourceId"))==null?null:le.getError("required"))),c(2),p("required",!0),c(3),p("ngIf",((ae=l.paymentFormGroup.get("moneySourceAmount"))==null?null:ae.invalid)&&(((ae=l.paymentFormGroup.get("moneySourceAmount"))==null?null:ae.dirty)||((ae=l.paymentFormGroup.get("moneySourceAmount"))==null?null:ae.touched))&&((ae=l.paymentFormGroup.get("moneySourceAmount"))==null?null:ae.getError("required")))}},dependencies:[W,O,R,Z,K,ie,Se,J,V,N,A,H,P,$,be,B,j,ne,Ee,et],encapsulation:2});let e=o;return e})();var Qi=["firstFocused"];function Ui(e,o){if(e&1&&(_(0),r(1,"option",44),m(2),n(),C()),e&2){let a=o.$implicit;c(),p("value",a.id),c(),S(a.name)}}function Wi(e,o){if(e&1&&(_(0),r(1,"option",44),m(2),n(),C()),e&2){let a=o.$implicit;c(),p("value",a.id),c(),S(a.label)}}function Ji(e,o){if(e&1){let a=k();r(0,"div",33)(1,"div",34)(2,"span"),m(3,"Filtrer"),n(),r(4,"button",35),y("click",function(){v(a);let i=h();return b(i.toggleFilterMenu())}),u(5,"i",36),n()(),r(6,"form",37)(7,"my-form-field")(8,"my-label"),m(9,"Employ\xE9"),n(),r(10,"select",38),d(11,Ui,3,2,"ng-container",39),n()(),r(12,"my-form-field")(13,"my-label",40),m(14,"Source d'argent"),n(),r(15,"select",41),d(16,Wi,3,2,"ng-container",39),n()()(),r(17,"div",42)(18,"button",43),y("click",function(){v(a);let i=h();return b(i.resetItemsFilterForm())}),m(19,"R\xE9initialiser"),n(),r(20,"button",11),y("click",function(){v(a);let i=h();return b(i.filterItems())}),m(21,"Appliquer"),n()()()}if(e&2){let a=h();c(6),p("formGroup",a.sourceFilterFormGroup),c(5),p("ngForOf",a.employees),c(2),p("required",!0),c(3),p("ngForOf",a.moneySources)}}function Zi(e,o){if(e&1){let a=k();r(0,"button",45),y("click",function(){v(a);let i=h();return b(i.deleteSeleted())}),r(1,"div",46),u(2,"i",47),r(3,"span"),m(4),n()()()}if(e&2){let a=h();c(4),D("Supprimer (",a.selection.selected.length,")")}}function Ki(e,o){if(e&1){let a=k();r(0,"th",48)(1,"mat-checkbox",49),y("change",function(i){v(a);let l=h();return b(l.allSelectionChanged(i))}),n()()}if(e&2){let a=h();c(),p("checked",a.selection.hasValue()&&a.isAllSelected())("indeterminate",a.selection.hasValue()&&!a.isAllSelected())("aria-label",a.checkboxLabel())}}function Xi(e,o){if(e&1){let a=k();r(0,"td",50)(1,"mat-checkbox",51),y("click",function(i){return i.stopPropagation()})("change",function(i){let s=v(a).$implicit,f=h();return b(f.selectionChanged(i,s))}),n()()}if(e&2){let a=o.$implicit,t=h();c(),p("checked",t.selection.isSelected(a))("aria-label",t.checkboxLabel(a))}}function Yi(e,o){e&1&&(r(0,"th",48),m(1,"Code "),n())}function en(e,o){if(e&1&&(r(0,"td",50),m(1),n()),e&2){let a=o.$implicit;c(),S(a.code)}}function tn(e,o){e&1&&(r(0,"th",48),m(1,"Employ\xE9 "),n())}function nn(e,o){if(e&1&&(r(0,"td",50),m(1),n()),e&2){let a=o.$implicit;c(),S(a.employeeId.name)}}function rn(e,o){e&1&&(r(0,"th",48),m(1,"Versement"),n())}function on(e,o){if(e&1&&(r(0,"td",50),m(1),n()),e&2){let a=o.$implicit;c(),S(a.payment)}}function ln(e,o){e&1&&(r(0,"th",48),m(1,"Paiement calcul\xE9"),n())}function an(e,o){if(e&1&&(r(0,"td",50),m(1),n()),e&2){let a=o.$implicit;c(),S(a.calculatedPayment)}}function mn(e,o){e&1&&(r(0,"th",48),m(1,"Restant"),n())}function sn(e,o){if(e&1&&(r(0,"td",50),m(1),n()),e&2){let a=o.$implicit;c(),S(a.restPayment)}}function cn(e,o){e&1&&(r(0,"th",48),m(1,"Source d'argent "),n())}function pn(e,o){if(e&1&&(r(0,"td",50),m(1),n()),e&2){let a=o.$implicit;c(),S(a.moneySourceId.label)}}function dn(e,o){e&1&&(r(0,"th",48),m(1,"Date "),n())}function un(e,o){if(e&1&&(r(0,"td",50),m(1),ye(2,"date"),n()),e&2){let a=o.$implicit;c(),S(he(2,1,a.date,"dd/MM/yyyy"))}}function fn(e,o){e&1&&(r(0,"th",52),m(1,"Action"),n())}function yn(e,o){if(e&1&&(r(0,"td",50)(1,"div",53)(2,"button",54),u(3,"i",55),n()()()),e&2){let a=o.$implicit,t=h();c(2),p("matTooltip",t.getTracabilityInfo(a))}}function hn(e,o){e&1&&u(0,"tr",56)}function gn(e,o){e&1&&u(0,"tr",57)}function _n(e,o){e&1&&(r(0,"div",58)(1,"p",59),m(2,"Aucune donn\xE9e \xE0 afficher"),n()())}var St=(()=>{let o=class o{isAllSelected(){let t=this.selection.selected.length,i=this.dataSource.data.length;return t===i}toggleAllRows(){if(this.isAllSelected()){this.selection.clear();return}this.selection.select(...this.dataSource.data)}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:`${this.isAllSelected()?"deselect":"select"} all`}constructor(t,i,l,s,f,x,E){this.snackBar=t,this.fb=i,this.matDialog=l,this.traceability=s,this.paymentsHttp=f,this.employeesHttp=x,this.moneySourcesHttp=E,this.dataSource=new Le([]),this.displayedColumns=["select","code","employeeId.name","calculatedPayment","payment","restPayment","moneySourceId.label","date","actions"],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.isFilterMenuOpen=!1,this.refreshGrid=new ee,this.sourceFilterChanged=new ee,this.pageSize=te.pagination.pageSize,this.selection=new _e(!0,[]),this.showFirstLastButtons=te.pagination.showFirstLastButtons,this.employees=[],this.moneySources=[],this.sourceFilterFormGroup=this.fb.group({employeeId:[""],moneySourceId:[""]})}ngOnInit(){this.employeesHttp.getAll().subscribe({next:t=>this.employees=t}),this.moneySourcesHttp.getAll().subscribe({next:t=>this.moneySources=t})}ngAfterViewInit(){this.sort.sortChange.subscribe({next:()=>this.paginator.pageIndex=0}),ce(this.sort.sortChange,this.paginator.page,this.refreshGrid,this.sourceFilterChanged).pipe(de({}),ue(()=>(this.isLoadingResults=!0,this.paymentsHttp.paginate(this.getFilterQuery).pipe(pe(()=>me(null))))),se(t=>(this.isLoadingResults=!1,this.isRateLimitReached=t?.data===null,we(t)?[]:(this.resultsLength=t?.count,t?.items)))).subscribe({next:t=>this.dataSource.data=t})}newItem(t="creation",i=0){this.matDialog.open(xt,{data:{id:i,mode:t},disableClose:!0,minHeight:"90vh",autoFocus:!1}).afterClosed().subscribe({next:l=>this.refreshGrid.emit()})}deleteItem(t){confirm("Etes-vous s\xFBr de ce que vous faites ?")&&this.deleteMany([t])}deleteSeleted(){confirm("Etes-vous s\xFBr de ce que vous faites ?")&&this.deleteMany(this.selection.selected)}filterItems(){this.sourceFilterChanged.emit()}resetItemsFilterForm(){this.sourceFilterFormGroup.reset({employeeId:"",moneySourceId:""}),this.sourceFilterChanged.emit()}toggleFilterMenu(){this.isFilterMenuOpen=!this.isFilterMenuOpen,this.isFilterMenuOpen&&setTimeout(()=>{this.firstFocused?.nativeElement.focus()},200)}allSelectionChanged(t){t&&this.toggleAllRows()}selectionChanged(t,i){t&&this.selection.toggle(i)}deleteMany(t){let i=new URLSearchParams;t.forEach(s=>{i.append("id",s.id.toString())});let l=`?${i.toString()}`;this.paymentsHttp.deleteMany(l).subscribe({next:s=>{s.success&&(this.snackBar.open("Op\xE9ration r\xE9ussie","\u2714",{duration:7e3}),this.refreshGrid.emit(),this.selection.clear())},error:s=>this.snackBar.open(s.message)})}get getFilterQuery(){let t=new URLSearchParams,i={pageIndex:this.paginator.pageIndex,pageSize:this.pageSize,employeeId:this.sourceFilterFormGroup.get("employeeId")?.value,moneySourceId:this.sourceFilterFormGroup.get("moneySourceId")?.value};return T(i.pageIndex)&&t.append("pageIndex",i.pageIndex.toString()),T(i.pageSize)&&t.append("pageSize",i.pageSize.toString()),t.append("order","DESC"),T(i.employeeId)&&t.append("employeeId",i.employeeId),T(i.moneySourceId)&&t.append("moneySourceId",i.moneySourceId),`?${t.toString()}`}getTracabilityInfo(t){return this.traceability.info(t)}};o.\u0275fac=function(i){return new(i||o)(g(z),g(q),g(ke),g(Fe),g(ot),g(U),g(Be))},o.\u0275cmp=M({type:o,selectors:[["app-employee-payments-grid"]],viewQuery:function(i,l){if(i&1&&(F(L,5),F(Q,5),F(Qi,5)),i&2){let s;w(s=I())&&(l.paginator=s.first),w(s=I())&&(l.sort=s.first),w(s=I())&&(l.firstFocused=s.first)}},decls:54,vars:12,consts:[[1,"flex","flex-1","flex-col","p-3","bg-secondary-50","gap-y-2"],[1,"flex","flex-col"],[1,"flex","flex-row","justify-between","items-center"],[1,"relative"],["mat-button","","cdkOverlayOrigin","",3,"click"],["trigger","cdkOverlayOrigin"],[1,"space-x-2"],[1,"ri-equalizer-line","text-lg"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayHasBackdrop","backdropClick"],[1,"flex","flex-row","items-center","gap-x-3"],["mat-stroked-button","","color","warn","class","!border-red-700 !border",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"],[1,"!flex","!flex-row","!items-center","!space-x-2"],[1,"ri-add-line","text-lg"],[1,"text-white"],[1,"relative","flex-1","overflow-auto","!h-[calc(100vh-185px)]","bg-white","rounded","shadow"],["mat-table","","matSort","","matSortActive","createdAt","matSortDisableClear","","matSortDirection","desc",1,"w-full",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","employeeId.name"],["matColumnDef","payment"],["matColumnDef","calculatedPayment"],["matColumnDef","restPayment"],["matColumnDef","moneySourceId.label"],["matColumnDef","date"],["matColumnDef","actions"],["mat-header-cell","","class","!text-center w-20 ",4,"matHeaderCellDef"],["mat-header-row","","class","!bg-gray-50",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","hover:!bg-slate-50 cursor-pointer",4,"matRowDef","matRowDefColumns"],["class","flex flex-row items-center space-x-1 p-4",4,"ngIf"],["aria-label","S\xE9lectionnez la page des r\xE9sultats de recherche d'apc kouba",1,"!flex","!justify-start","!bg-transparent",3,"showFirstLastButtons","length","pageSize"],[1,"flex","flex-col","min-w-[400px]","max-h-[80vh]","overflow-auto","bg-white","shadow-lg","border","border-gray-200","rounded-sm"],[1,"flex","flex-row","items-center","justify-between","px-4","py-2","bg-slate-100"],[3,"click"],[1,"ri-close-line"],[1,"flex","flex-col","!text-sm","gap-y-2","p-5",3,"formGroup"],["formControlName","employeeId","myInput",""],[4,"ngFor","ngForOf"],[3,"required"],["formControlName","moneySourceId","myInput",""],[1,"flex","flex-row","justify-between","p-6"],["mat-stroked-button","","color","secondary",3,"click"],[3,"value"],["mat-stroked-button","","color","warn",1,"!border-red-700","!border",3,"click"],[1,"flex","flex-row","items-center","gap-x-2"],[1,"ri-delete-bin-6-line","text-lg"],["mat-header-cell",""],["color","primary",3,"checked","indeterminate","aria-label","change"],["mat-cell",""],["color","primary",3,"checked","aria-label","click","change"],["mat-header-cell","",1,"!text-center","w-20"],[1,"flex","flex-row","items-center","space-x-2"],["mat-icon-button","",3,"matTooltip"],[1,"ri-information-line"],["mat-header-row","",1,"!bg-gray-50"],["mat-row","",1,"hover:!bg-slate-50","cursor-pointer"],[1,"flex","flex-row","items-center","space-x-1","p-4"],[1,"text-sm","font-light","text-black"]],template:function(i,l){if(i&1&&(r(0,"div",0)(1,"div",1)(2,"h3"),m(3,"RH / Paiements"),n()(),r(4,"div",2)(5,"div",3)(6,"button",4,5),y("click",function(){return l.toggleFilterMenu()}),r(8,"div",6),u(9,"i",7),r(10,"span"),m(11,"FILTRE"),n()()(),d(12,Ji,22,4,"ng-template",8),y("backdropClick",function(){return l.toggleFilterMenu()}),n(),r(13,"div",9),d(14,Zi,5,1,"button",10),r(15,"button",11),y("click",function(){return l.newItem()}),r(16,"div",12),u(17,"i",13),r(18,"span",14),m(19,"Paiement"),n()()()()(),r(20,"div")(21,"div",15)(22,"table",16),_(23,17),d(24,Ki,2,3,"th",18)(25,Xi,2,2,"td",19),C(),_(26,20),d(27,Yi,2,0,"th",18)(28,en,2,1,"td",19),C(),_(29,21),d(30,tn,2,0,"th",18)(31,nn,2,1,"td",19),C(),_(32,22),d(33,rn,2,0,"th",18)(34,on,2,1,"td",19),C(),_(35,23),d(36,ln,2,0,"th",18)(37,an,2,1,"td",19),C(),_(38,24),d(39,mn,2,0,"th",18)(40,sn,2,1,"td",19),C(),_(41,25),d(42,cn,2,0,"th",18)(43,pn,2,1,"td",19),C(),_(44,26),d(45,dn,2,0,"th",18)(46,un,3,4,"td",19),C(),_(47,27),d(48,fn,2,0,"th",28)(49,yn,4,1,"td",19),C(),d(50,hn,1,0,"tr",29)(51,gn,1,0,"tr",30),n(),d(52,_n,3,0,"div",31),n(),u(53,"mat-paginator",32),n()()),i&2){let s=fe(7);c(12),p("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",l.isFilterMenuOpen)("cdkConnectedOverlayHasBackdrop",!0),c(2),p("ngIf",l.selection.selected.length>0),c(8),p("dataSource",l.dataSource),c(28),p("matHeaderRowDef",l.displayedColumns)("matHeaderRowDefSticky",!0),c(),p("matRowDefColumns",l.displayedColumns),c(),p("ngIf",l.dataSource.data.length==0),c(),p("showFirstLastButtons",l.showFirstLastButtons)("length",l.resultsLength)("pageSize",l.pageSize)}},dependencies:[W,O,R,Z,K,J,V,N,A,H,ve,P,ge,Te,Me,Oe,Re,Pe,De,Ae,Ve,Ne,He,qe,L,Q,xe,Ce,$,B,j,Xe],styles:[`app-employee-payments-grid{display:flex;flex:1}
`],encapsulation:2});let e=o;return e})();var Cn=["firstFocused"];function xn(e,o){if(e&1&&u(0,"my-global-errors",23),e&2){let a=h();p("errors",a.errors)}}function Sn(e,o){if(e&1&&(_(0),r(1,"option",24),m(2),n(),C()),e&2){let a=o.$implicit;c(),p("value",a.id),c(),S(a.name)}}function vn(e,o){e&1&&(r(0,"my-error"),m(1," Veuillez remplir ce champ. "),n())}function bn(e,o){e&1&&(r(0,"my-error"),m(1," Veuillez remplir ce champ. "),n())}function En(e,o){e&1&&(r(0,"my-error"),m(1," Veuillez remplir ce champ. "),n())}function Fn(e,o){e&1&&(r(0,"my-error"),m(1," Veuillez remplir ce champ. "),n())}var vt=(()=>{let o=class o{constructor(t,i,l,s,f,x){this.fb=t,this.dialogRef=i,this.data=l,this.snackBar=s,this.punchesHttp=f,this.employeesHttp=x,this.errors=[],this.employees=[],this.puncheFormGroup=this.fb.group({id:[void 0],code:[""],employeeId:[void 0,[G.required]],salary:[{value:0,disabled:!0},[G.required]],hourlyCoefficient:[0,[G.required]],amount:[{value:0,disabled:!0},,[G.required]],date:[re(),[G.required]],notes:[""]})}ngOnInit(){this.employeesHttp.getAll().subscribe({next:t=>{this.employees=t,this.data.mode=="edit"&&this.loadData(this.data.id)}}),this.handleFormChanged()}loadData(t){this.punchesHttp.getOneById(t).subscribe({next:i=>{this.puncheFormGroup.patchValue({id:i.id,code:i.code,employeeId:i.employeeId.id,salary:i.salary,hourlyCoefficient:i.hourlyCoefficient,amount:i.amount,date:Ye(i.date),notes:i.notes})}})}ngAfterViewInit(){setTimeout(()=>{this.firstFocused.nativeElement.focus()},300)}save(){this.errors=[],this.puncheFormGroup.valid==!0?this.data.mode=="creation"?this.punchesHttp.create(this.getCreation()).subscribe({next:t=>{t.success?(this.snackBar.open("Op\xE9ration r\xE9ussie","\u2714",{duration:7e3}),this.create()):this.errors=t.errors},error:t=>console.error(t)}):this.punchesHttp.update(this.data.id,this.getUpdate()).subscribe({next:t=>{t.success?(this.snackBar.open("Op\xE9ration r\xE9ussie","\u2714",{duration:7e3}),this.loadData(t.data.id)):this.errors=t.errors},error:t=>this.snackBar.open("L'op\xE9ration a \xE9chou\xE9","\u274C",{duration:7e3})}):this.puncheFormGroup.markAllAsTouched()}resetForm(){this.puncheFormGroup.reset({id:void 0,code:"",employeeId:void 0,salary:0,hourlyCoefficient:0,amount:0,date:re(),notes:""},{emitEvent:!1})}create(){this.resetForm(),this.firstFocused.nativeElement.focus(),this.puncheFormGroup.markAsUntouched(),this.puncheFormGroup.clearValidators(),this.puncheFormGroup.clearAsyncValidators(),this.data={id:0,mode:"creation"}}getCreation(){return console.log(this.puncheFormGroup.getRawValue()),Y({},this.puncheFormGroup.getRawValue())}getUpdate(){return Y({},this.puncheFormGroup.getRawValue())}closeDialog(){this.dialogRef.close()}handleFormChanged(){this.puncheFormGroup.get("employeeId")?.valueChanges.subscribe({next:t=>{this.employeesHttp.getOneById(t).subscribe({next:i=>{this.puncheFormGroup.get("salary")?.setValue(i.salary),this.setAmount()}})}}),this.puncheFormGroup.get("hourlyCoefficient")?.valueChanges.subscribe({next:t=>{this.setAmount()}})}setAmount(){let t=X(this.puncheFormGroup.get("salary")?.value),i=X(this.puncheFormGroup.get("hourlyCoefficient")?.value),l=X((X(t)/26*X(i)).toFixed(2));this.puncheFormGroup.get("amount")?.setValue(l)}};o.\u0275fac=function(i){return new(i||o)(g(q),g(Ie),g(Ge),g(z),g(nt),g(U))},o.\u0275cmp=M({type:o,selectors:[["app-punche-form"]],viewQuery:function(i,l){if(i&1&&F(Cn,5),i&2){let s;w(s=I())&&(l.firstFocused=s.first)}},decls:47,vars:11,consts:[[1,"dialog-container"],[1,"dialog-header"],[1,"text-lg","font-medium"],[3,"click"],[1,"ri-close-line","text-2xl"],["class","px-3",3,"errors",4,"ngIf"],[1,"dialog-content"],[1,"flex","flex-col","gap-y-5","mt-3","h-64",3,"formGroup"],["formControlName","id","type","number",1,"!hidden"],[1,"inline-fields"],["formControlName","code","type","text","myInput",""],["firstFocused",""],["formControlName","employeeId","myInput",""],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"required"],["formControlName","salary","type","number","myInput","","myCalculableField",""],["formControlName","hourlyCoefficient","type","number","myInput",""],["formControlName","amount","type","number","myInput","","myCalculableField",""],["formControlName","notes","myTextarea","","type","text"],[1,"dialog-actions"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary",3,"click"],[1,"px-3",3,"errors"],[3,"value"]],template:function(i,l){if(i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),m(3),n(),r(4,"button",3),y("click",function(){return l.closeDialog()}),u(5,"i",4),n()(),d(6,xn,1,1,"my-global-errors",5),r(7,"div",6)(8,"form",7),u(9,"input",8),r(10,"div",9)(11,"my-form-field")(12,"my-label"),m(13,"Code"),n(),u(14,"input",10,11),n(),r(16,"my-form-field")(17,"my-label"),m(18,"Employ\xE9"),n(),r(19,"select",12),d(20,Sn,3,2,"ng-container",13),n(),d(21,vn,2,0,"my-error",14),n()(),r(22,"div",9)(23,"my-form-field")(24,"my-label",15),m(25,"Salaire"),n(),u(26,"input",16),d(27,bn,2,0,"my-error",14),n(),r(28,"my-form-field")(29,"my-label",15),m(30,"Coefficient (Par Jour)"),n(),u(31,"input",17),d(32,En,2,0,"my-error",14),n(),r(33,"my-form-field")(34,"my-label",15),m(35,"Montant"),n(),u(36,"input",18),d(37,Fn,2,0,"my-error",14),n()(),r(38,"my-form-field")(39,"my-label"),m(40,"Notes"),n(),u(41,"textarea",19),n()()(),r(42,"div",20)(43,"button",21),y("click",function(){return l.create()}),m(44,"Nouvelle "),n(),r(45,"button",22),y("click",function(){return l.save()}),m(46,"Sauvegarder"),n()()()),i&2){let s,f,x,E;c(3),D(" ",l.data.mode=="creation"?"Nouveau ":"Modifier "," pointage "),c(3),p("ngIf",l.errors.length>0),c(2),p("formGroup",l.puncheFormGroup),c(12),p("ngForOf",l.employees),c(),p("ngIf",((s=l.puncheFormGroup.get("employeeId"))==null?null:s.invalid)&&(((s=l.puncheFormGroup.get("employeeId"))==null?null:s.dirty)||((s=l.puncheFormGroup.get("employeeId"))==null?null:s.touched))&&((s=l.puncheFormGroup.get("employeeId"))==null?null:s.getError("required"))),c(3),p("required",!0),c(3),p("ngIf",((f=l.puncheFormGroup.get("salary"))==null?null:f.invalid)&&(((f=l.puncheFormGroup.get("salary"))==null?null:f.dirty)||((f=l.puncheFormGroup.get("salary"))==null?null:f.touched))&&((f=l.puncheFormGroup.get("salary"))==null?null:f.getError("required"))),c(2),p("required",!0),c(3),p("ngIf",((x=l.puncheFormGroup.get("hourlyCoefficient"))==null?null:x.invalid)&&(((x=l.puncheFormGroup.get("hourlyCoefficient"))==null?null:x.dirty)||((x=l.puncheFormGroup.get("hourlyCoefficient"))==null?null:x.touched))&&((x=l.puncheFormGroup.get("hourlyCoefficient"))==null?null:x.getError("required"))),c(2),p("required",!0),c(3),p("ngIf",((E=l.puncheFormGroup.get("amount"))==null?null:E.invalid)&&(((E=l.puncheFormGroup.get("amount"))==null?null:E.dirty)||((E=l.puncheFormGroup.get("amount"))==null?null:E.touched))&&((E=l.puncheFormGroup.get("amount"))==null?null:E.getError("required")))}},dependencies:[W,O,R,Z,K,ie,Se,J,V,N,A,H,P,$,be,B,j,ne,Ee,et],encapsulation:2});let e=o;return e})();var wn=["firstFocused"];function In(e,o){if(e&1&&(_(0),r(1,"option",41),m(2),n(),C()),e&2){let a=o.$implicit;c(),p("value",a.id),c(),S(a.name)}}function Gn(e,o){if(e&1){let a=k();r(0,"div",32)(1,"div",33)(2,"span"),m(3,"Filtrer"),n(),r(4,"button",34),y("click",function(){v(a);let i=h();return b(i.toggleFilterMenu())}),u(5,"i",35),n()(),r(6,"form",36)(7,"my-form-field")(8,"my-label"),m(9,"Employ\xE9"),n(),r(10,"select",37),d(11,In,3,2,"ng-container",38),n()()(),r(12,"div",39)(13,"button",40),y("click",function(){v(a);let i=h();return b(i.resetItemsFilterForm())}),m(14,"R\xE9initialiser"),n(),r(15,"button",11),y("click",function(){v(a);let i=h();return b(i.filterItems())}),m(16,"Appliquer"),n()()()}if(e&2){let a=h();c(6),p("formGroup",a.sourceFilterFormGroup),c(5),p("ngForOf",a.employees)}}function kn(e,o){if(e&1){let a=k();r(0,"button",42),y("click",function(){v(a);let i=h();return b(i.deleteSeleted())}),r(1,"div",43),u(2,"i",44),r(3,"span"),m(4),n()()()}if(e&2){let a=h();c(4),D("Supprimer (",a.selection.selected.length,")")}}function Tn(e,o){if(e&1){let a=k();r(0,"th",45)(1,"mat-checkbox",46),y("change",function(i){v(a);let l=h();return b(l.allSelectionChanged(i))}),n()()}if(e&2){let a=h();c(),p("checked",a.selection.hasValue()&&a.isAllSelected())("indeterminate",a.selection.hasValue()&&!a.isAllSelected())("aria-label",a.checkboxLabel())}}function Mn(e,o){if(e&1){let a=k();r(0,"td",47)(1,"mat-checkbox",48),y("click",function(i){return i.stopPropagation()})("change",function(i){let s=v(a).$implicit,f=h();return b(f.selectionChanged(i,s))}),n()()}if(e&2){let a=o.$implicit,t=h();c(),p("checked",t.selection.isSelected(a))("aria-label",t.checkboxLabel(a))}}function Dn(e,o){e&1&&(r(0,"th",45),m(1,"Code "),n())}function On(e,o){if(e&1&&(r(0,"td",47),m(1),n()),e&2){let a=o.$implicit;c(),S(a.code)}}function Pn(e,o){e&1&&(r(0,"th",45),m(1,"Employ\xE9 "),n())}function Vn(e,o){if(e&1&&(r(0,"td",47),m(1),n()),e&2){let a=o.$implicit;c(),S(a.employeeId.name)}}function Nn(e,o){e&1&&(r(0,"th",45),m(1,"Salaire"),n())}function Rn(e,o){if(e&1&&(r(0,"td",47),m(1),n()),e&2){let a=o.$implicit;c(),S(a.salary)}}function An(e,o){e&1&&(r(0,"th",45),m(1,"Coefficient (Par Jour)"),n())}function Hn(e,o){if(e&1&&(r(0,"td",47),m(1),n()),e&2){let a=o.$implicit;c(),S(a.hourlyCoefficient)}}function qn(e,o){e&1&&(r(0,"th",45),m(1,"Montant"),n())}function Ln(e,o){if(e&1&&(r(0,"td",47),m(1),n()),e&2){let a=o.$implicit;c(),S(a.amount)}}function Bn(e,o){e&1&&(r(0,"th",45),m(1,"Date "),n())}function jn(e,o){if(e&1&&(r(0,"td",47),m(1),ye(2,"date"),n()),e&2){let a=o.$implicit;c(),S(he(2,1,a.date,"dd/MM/yyyy"))}}function $n(e,o){e&1&&(r(0,"th",49),m(1,"Action"),n())}function zn(e,o){if(e&1&&(r(0,"td",47)(1,"div",50)(2,"button",51),u(3,"i",52),n()()()),e&2){let a=o.$implicit,t=h();c(2),p("matTooltip",t.getTracabilityInfo(a))}}function Qn(e,o){e&1&&u(0,"tr",53)}function Un(e,o){e&1&&u(0,"tr",54)}function Wn(e,o){e&1&&(r(0,"div",55)(1,"p",56),m(2,"Aucune donn\xE9e \xE0 afficher"),n()())}var bt=(()=>{let o=class o{isAllSelected(){let t=this.selection.selected.length,i=this.dataSource.data.length;return t===i}toggleAllRows(){if(this.isAllSelected()){this.selection.clear();return}this.selection.select(...this.dataSource.data)}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:`${this.isAllSelected()?"deselect":"select"} all`}constructor(t,i,l,s,f,x){this.snackBar=t,this.fb=i,this.matDialog=l,this.traceability=s,this.punchesHttp=f,this.employeesHttp=x,this.dataSource=new Le([]),this.displayedColumns=["select","code","employeeId.name","salary","hourlyCoefficient","amount","date","actions"],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.isFilterMenuOpen=!1,this.refreshGrid=new ee,this.sourceFilterChanged=new ee,this.pageSize=te.pagination.pageSize,this.employees=[],this.selection=new _e(!0,[]),this.showFirstLastButtons=te.pagination.showFirstLastButtons,this.sourceFilterFormGroup=this.fb.group({employeeId:[""]})}ngOnInit(){this.employeesHttp.getAll().subscribe({next:t=>this.employees=t})}ngAfterViewInit(){this.sort.sortChange.subscribe({next:()=>this.paginator.pageIndex=0}),ce(this.sort.sortChange,this.paginator.page,this.refreshGrid,this.sourceFilterChanged).pipe(de({}),ue(()=>(this.isLoadingResults=!0,this.punchesHttp.paginate(this.getFilterQuery).pipe(pe(()=>me(null))))),se(t=>(this.isLoadingResults=!1,this.isRateLimitReached=t?.data===null,we(t)?[]:(this.resultsLength=t?.count,t?.items)))).subscribe({next:t=>this.dataSource.data=t})}newItem(t="creation",i=0){this.matDialog.open(vt,{data:{id:i,mode:t},minWidth:"512px",minHeight:"80vh",disableClose:!0,autoFocus:!1}).afterClosed().subscribe({next:l=>this.refreshGrid.emit()})}deleteItem(t){confirm("Etes-vous s\xFBr de ce que vous faites ?")&&this.deleteMany([t])}deleteSeleted(){confirm("Etes-vous s\xFBr de ce que vous faites ?")&&this.deleteMany(this.selection.selected)}filterItems(){this.sourceFilterChanged.emit()}resetItemsFilterForm(){this.sourceFilterFormGroup.reset({label:""}),this.sourceFilterChanged.emit()}toggleFilterMenu(){this.isFilterMenuOpen=!this.isFilterMenuOpen,this.isFilterMenuOpen&&setTimeout(()=>{this.firstFocused?.nativeElement.focus()},200)}allSelectionChanged(t){t&&this.toggleAllRows()}selectionChanged(t,i){t&&this.selection.toggle(i)}deleteMany(t){let i=new URLSearchParams;t.forEach(s=>{i.append("id",s.id.toString())});let l=`?${i.toString()}`;this.punchesHttp.deleteMany(l).subscribe({next:s=>{s.success&&(this.snackBar.open("Op\xE9ration r\xE9ussie","\u2714",{duration:7e3}),this.refreshGrid.emit(),this.selection.clear())},error:s=>this.snackBar.open(s.message)})}get getFilterQuery(){let t=new URLSearchParams,i={pageIndex:this.paginator.pageIndex,pageSize:this.pageSize,employeeId:this.sourceFilterFormGroup.get("employeeId")?.value};return T(i.pageIndex)&&t.append("pageIndex",i.pageIndex.toString()),T(i.pageSize)&&t.append("pageSize",i.pageSize.toString()),t.append("order","DESC"),T(i.employeeId)&&t.append("employeeId",i.employeeId),`?${t.toString()}`}getTracabilityInfo(t){return this.traceability.info(t)}};o.\u0275fac=function(i){return new(i||o)(g(z),g(q),g(ke),g(Fe),g(nt),g(U))},o.\u0275cmp=M({type:o,selectors:[["app-punches-grid"]],viewQuery:function(i,l){if(i&1&&(F(L,5),F(Q,5),F(wn,5)),i&2){let s;w(s=I())&&(l.paginator=s.first),w(s=I())&&(l.sort=s.first),w(s=I())&&(l.firstFocused=s.first)}},decls:51,vars:12,consts:[[1,"flex","flex-1","flex-col","p-3","bg-secondary-50","gap-y-2"],[1,"flex","flex-col"],[1,"flex","flex-row","justify-between","items-center"],[1,"relative"],["mat-button","","cdkOverlayOrigin","",3,"click"],["trigger","cdkOverlayOrigin"],[1,"space-x-2"],[1,"ri-equalizer-line","text-lg"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayHasBackdrop","backdropClick"],[1,"flex","flex-row","items-center","gap-x-3"],["mat-stroked-button","","color","warn","class","!border-red-700 !border",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"],[1,"!flex","!flex-row","!items-center","!space-x-2"],[1,"ri-add-line","text-lg"],[1,"text-white"],[1,"relative","flex-1","overflow-auto","!h-[calc(100vh-185px)]","bg-white","rounded","shadow"],["mat-table","","matSort","","matSortActive","createdAt","matSortDisableClear","","matSortDirection","desc",1,"w-full",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","employeeId.name"],["matColumnDef","salary"],["matColumnDef","hourlyCoefficient"],["matColumnDef","amount"],["matColumnDef","date"],["matColumnDef","actions"],["mat-header-cell","","class","!text-center w-20 ",4,"matHeaderCellDef"],["mat-header-row","","class","!bg-gray-50",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","hover:!bg-slate-50 cursor-pointer",4,"matRowDef","matRowDefColumns"],["class","flex flex-row items-center space-x-1 p-4",4,"ngIf"],["aria-label","S\xE9lectionnez la page des r\xE9sultats de recherche d'apc kouba",1,"!flex","!justify-start","!bg-transparent",3,"showFirstLastButtons","length","pageSize"],[1,"flex","flex-col","min-w-[400px]","max-h-[80vh]","overflow-auto","bg-white","shadow-lg","border","border-gray-200","rounded-sm"],[1,"flex","flex-row","items-center","justify-between","px-4","py-2","bg-slate-100"],[3,"click"],[1,"ri-close-line"],[1,"flex","flex-col","!text-sm","gap-y-2","p-5",3,"formGroup"],["formControlName","employeeId","myInput",""],[4,"ngFor","ngForOf"],[1,"flex","flex-row","justify-between","p-6"],["mat-stroked-button","","color","secondary",3,"click"],[3,"value"],["mat-stroked-button","","color","warn",1,"!border-red-700","!border",3,"click"],[1,"flex","flex-row","items-center","gap-x-2"],[1,"ri-delete-bin-6-line","text-lg"],["mat-header-cell",""],["color","primary",3,"checked","indeterminate","aria-label","change"],["mat-cell",""],["color","primary",3,"checked","aria-label","click","change"],["mat-header-cell","",1,"!text-center","w-20"],[1,"flex","flex-row","items-center","space-x-2"],["mat-icon-button","",3,"matTooltip"],[1,"ri-information-line"],["mat-header-row","",1,"!bg-gray-50"],["mat-row","",1,"hover:!bg-slate-50","cursor-pointer"],[1,"flex","flex-row","items-center","space-x-1","p-4"],[1,"text-sm","font-light","text-black"]],template:function(i,l){if(i&1&&(r(0,"div",0)(1,"div",1)(2,"h3"),m(3,"RH / Pointages"),n()(),r(4,"div",2)(5,"div",3)(6,"button",4,5),y("click",function(){return l.toggleFilterMenu()}),r(8,"div",6),u(9,"i",7),r(10,"span"),m(11,"FILTRE"),n()()(),d(12,Gn,17,2,"ng-template",8),y("backdropClick",function(){return l.toggleFilterMenu()}),n(),r(13,"div",9),d(14,kn,5,1,"button",10),r(15,"button",11),y("click",function(){return l.newItem()}),r(16,"div",12),u(17,"i",13),r(18,"span",14),m(19,"Pointage"),n()()()()(),r(20,"div")(21,"div",15)(22,"table",16),_(23,17),d(24,Tn,2,3,"th",18)(25,Mn,2,2,"td",19),C(),_(26,20),d(27,Dn,2,0,"th",18)(28,On,2,1,"td",19),C(),_(29,21),d(30,Pn,2,0,"th",18)(31,Vn,2,1,"td",19),C(),_(32,22),d(33,Nn,2,0,"th",18)(34,Rn,2,1,"td",19),C(),_(35,23),d(36,An,2,0,"th",18)(37,Hn,2,1,"td",19),C(),_(38,24),d(39,qn,2,0,"th",18)(40,Ln,2,1,"td",19),C(),_(41,25),d(42,Bn,2,0,"th",18)(43,jn,3,4,"td",19),C(),_(44,26),d(45,$n,2,0,"th",27)(46,zn,4,1,"td",19),C(),d(47,Qn,1,0,"tr",28)(48,Un,1,0,"tr",29),n(),d(49,Wn,3,0,"div",30),n(),u(50,"mat-paginator",31),n()()),i&2){let s=fe(7);c(12),p("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",l.isFilterMenuOpen)("cdkConnectedOverlayHasBackdrop",!0),c(2),p("ngIf",l.selection.selected.length>0),c(8),p("dataSource",l.dataSource),c(25),p("matHeaderRowDef",l.displayedColumns)("matHeaderRowDefSticky",!0),c(),p("matRowDefColumns",l.displayedColumns),c(),p("ngIf",l.dataSource.data.length==0),c(),p("showFirstLastButtons",l.showFirstLastButtons)("length",l.resultsLength)("pageSize",l.pageSize)}},dependencies:[W,O,R,Z,K,J,V,N,A,H,ve,P,ge,Te,Me,Oe,Re,Pe,De,Ae,Ve,Ne,He,qe,L,Q,xe,Ce,$,B,j,Xe],styles:[`app-punches-grid{display:flex;flex:1}
`],encapsulation:2});let e=o;return e})();var Jn=[{path:"",redirectTo:"punches",pathMatch:"full"},{path:"punches",component:bt},{path:"employees",component:Ct},{path:"credits",component:gt},{path:"payments",component:St}],kt=(()=>{let o=class o{};o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=it({type:o}),o.\u0275inj=tt({imports:[at.forChild(Jn),at]});let e=o;return e})();var Do=(()=>{let o=class o{};o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=it({type:o}),o.\u0275inj=tt({imports:[It,kt]});let e=o;return e})();export{Do as HrModule};
